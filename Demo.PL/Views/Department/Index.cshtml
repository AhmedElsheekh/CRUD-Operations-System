
@{
    ViewData["Title"] = "Index";
}

@model IEnumerable<DepartmentViewModel>;

<a class="btn btn-primary"  asp-action="Create">Create New Department</a>
<br />
<h1>All Departments</h1>

<div>
    <h3 class="alert alert-danger">@ViewBag.Message </h3>
</div>

<div>
    <h3 class="alert alert-danger">@ViewData["Message"] </h3>
</div>

<div>
    <h3 class="alert alert-danger">@TempData["Message"] </h3>
</div>

@if(TempData["CreateMessage"] != null)
{
     <div>
        <h3 class="alert alert-success">@TempData["CreateMessage"] </h3>
    </div>
}


@if(Model?.Count() > 0)
{
            <table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>Code</th>
        <th>Name</th>
        <th>Details</th>
        <th>Update</th>
        <th>Delete</th>
    </tr>
    </thead>

    @foreach(var item in Model)
    {
          <tbody>
            <tr>
              
              <td>@item.Code</td>
              <td>@item.Name</td>
              <td>
                  <a class="btn btn-primary" asp-controller="Department" asp-action="Details" asp-route-id = "@item.Id">Details</a>  
              </td>
              <td>
                  <a class="btn btn-primary"  asp-controller="Department" asp-action="Delete" asp-route-id = "@item.Id">Delete</a>
              </td>
              <td>
                  <a class="btn btn-primary" asp-controller="Department" asp-action="Update" asp-route-id = "@item.Id">Update</a>
              </td>
            </tr>
  
          </tbody>
      
    }
          </table>
}
else
{
    <h1 class = "bg-warning">No Departments Found</h1>
}

